# 注释

## 8.1. 注释风格

1. 使用 // 或 /* */, 统一就好.
2. // 更 常用

## 8.2. 文件注释

1. 在每一个文件开头加入版权公告.
2. 一个一到两行的文件注释就足够了, 对于每个概念的详细文档应当放在各个概念中, 而不是文件注释中
3. 不要在 .h 和 .cc 之间复制注释, 这样的注释偏离了注释的实际意义

## 8.3. 类注释

1. 每个类的定义都要附带一份注释, 描述类的功能和用法
2. 如果类的声明和定义分开了，描述类用法的注释应当和接口定义放在一起, 描述类的操作和实现的注释应当和实现放在一起

## 8.4. 函数注释

1. 函数声明处的注释描述函数功能; 定义处的注释描述函数实现
2. 注释使用叙述式 (“Opens the file”) 而非指令式 (“Open the file”)
3. 函数声明处注释的内容:</br>
·函数的输入输出.</br>
·对类成员函数而言: 函数调用期间对象是否需要保持引用参数, 是否会释放这些参数.</br>
·函数是否分配了必须由调用者释放的空间.</br>
·参数是否可以为空指针.</br>
·是否存在函数使用上的性能隐患.</br>
·如果函数是可重入的, 其同步前提是什么?</br>

## 8.5. 变量注释

1. 通常变量名本身足以很好说明变量用途. 某些情况下, 也需要额外的注释说明
2. 类数据成员，如果变量可以接受 NULL 或 -1 等警戒值, 须加以说明

## 8.6. 实现注释

### 代码前注释

```cpp
// Divide result by two, taking into account that x
// contains the carry from the add.
for (int i = 0; i < result->size(); i++) {
  x = (x << 8) + (*result)[i];
  (*result)[i] = x >> 1;
  x &= 1;
}

```

### 行注释

1. 比较隐晦的地方要在行尾加入注释. 在行尾空两格进行注释
2. 如果你需要连续进行多行注释, 可以使之对齐获得更好的可读性

### 函数参数注释

1. 如果参数是一个字面常量，你应当用一个常量名让这一约定变得更明显
2. 考虑更改函数的签名, 让某个 bool 类型的参数变为 enum 类型, 这样可以让这个参数的值表达其意义
3. 如果某个函数有多个配置选项, 你可以考虑定义一个类或结构体以保存所有的选项, 并传入类或结构体的实例

## 8.7. 标点, 拼写和语法

## 8.8. TODO 注释

1. 对那些临时的, 短期的解决方案, 或已经够好但仍不完美的代码使用 TODO 注释.
2. TODO 注释要使用全大写的字符串 TODO, 在随后的圆括号里写上你的名字, 邮件地址, bug ID, 或其它身份标识和与这一 TODO 相关的 issue.

    ```cpp
    // TODO(kl@gmail.com): Use a "*" here for concatenation operator.
    ```

## 8.9. 弃用注释

1. 通过弃用注释（DEPRECATED comments）以标记某接口点已弃用.

## 译者笔记

1. TODO 很不错, 有时候, 注释确实是为了标记一些未完成的或完成的不尽如人意的地方, 这样一搜索, 就知道还有哪些活要干, 日志都省了.
